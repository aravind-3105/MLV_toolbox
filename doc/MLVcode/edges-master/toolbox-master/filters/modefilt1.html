<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of modefilt1</title>
  <meta name="keywords" content="modefilt1">
  <meta name="description" content="One-dimensional mode filtering.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="../../../index.html">MLVcode</a> &gt; <a href="../../index.html">edges-master</a> &gt; <a href="#">toolbox-master</a> &gt; <a href="index.html">filters</a> &gt; modefilt1.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for MLVcode\edges-master\toolbox-master\filters&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>modefilt1
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>One-dimensional mode filtering.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function y = modefilt1( x, s ) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> One-dimensional mode filtering.

 Applies a width s one-dimensional mode filter to vector x. That is each
 element of the output y(j) corresponds to the mode of x(j-r:j+r), where
 r~s/2. At boundary regions, y is calculated on smaller windows, for
 example y(1) is calculated over x(1:1+r).  Note that for this function to
 make sense x should take on only a small number of discrete values
 (running time is actually proportional to number of unique values of x).
 This function is modeled after medfilt1, which is part of Matlab's
 'Signal Processing Toolbox'.

 USAGE
  y = modefilt1( x, s )

 INPUTS
  x   - length n vector
  s   - filter size

 OUTPUTS
  y   - filtered vector x

 EXAMPLE
  x=[0 1 0 0 0 3 0 1 3 1 2 2 0 1]; s=3;
  xmedian = medfilt1( x, s ); % may not be available
  xmode = modefilt1( x, s );
  [x; xmedian; xmode]

 See also MEDFILT1

 Piotr's Computer Vision Matlab Toolbox      Version 2.35
 Copyright 2014 Piotr Dollar.  [pdollar-at-gmail.com]
 Licensed under the Simplified BSD License [see external/bsd.txt]</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function y = modefilt1( x, s )</a>
0002 <span class="comment">% One-dimensional mode filtering.</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% Applies a width s one-dimensional mode filter to vector x. That is each</span>
0005 <span class="comment">% element of the output y(j) corresponds to the mode of x(j-r:j+r), where</span>
0006 <span class="comment">% r~s/2. At boundary regions, y is calculated on smaller windows, for</span>
0007 <span class="comment">% example y(1) is calculated over x(1:1+r).  Note that for this function to</span>
0008 <span class="comment">% make sense x should take on only a small number of discrete values</span>
0009 <span class="comment">% (running time is actually proportional to number of unique values of x).</span>
0010 <span class="comment">% This function is modeled after medfilt1, which is part of Matlab's</span>
0011 <span class="comment">% 'Signal Processing Toolbox'.</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% USAGE</span>
0014 <span class="comment">%  y = modefilt1( x, s )</span>
0015 <span class="comment">%</span>
0016 <span class="comment">% INPUTS</span>
0017 <span class="comment">%  x   - length n vector</span>
0018 <span class="comment">%  s   - filter size</span>
0019 <span class="comment">%</span>
0020 <span class="comment">% OUTPUTS</span>
0021 <span class="comment">%  y   - filtered vector x</span>
0022 <span class="comment">%</span>
0023 <span class="comment">% EXAMPLE</span>
0024 <span class="comment">%  x=[0 1 0 0 0 3 0 1 3 1 2 2 0 1]; s=3;</span>
0025 <span class="comment">%  xmedian = medfilt1( x, s ); % may not be available</span>
0026 <span class="comment">%  xmode = modefilt1( x, s );</span>
0027 <span class="comment">%  [x; xmedian; xmode]</span>
0028 <span class="comment">%</span>
0029 <span class="comment">% See also MEDFILT1</span>
0030 <span class="comment">%</span>
0031 <span class="comment">% Piotr's Computer Vision Matlab Toolbox      Version 2.35</span>
0032 <span class="comment">% Copyright 2014 Piotr Dollar.  [pdollar-at-gmail.com]</span>
0033 <span class="comment">% Licensed under the Simplified BSD License [see external/bsd.txt]</span>
0034 
0035 <span class="comment">% get unique values in x</span>
0036 [vals,~,inds]=unique(x(:)'); m=length(vals); n=length(x);
0037 <span class="keyword">if</span>(m&gt;256), warning(<span class="string">'x takes on large number of diff vals'</span>); <span class="keyword">end</span> <span class="comment">%#ok&lt;WNTAG&gt;</span>
0038 
0039 <span class="comment">% create quantized representation [H(i,j)==1 iff x(j)==vals(i)]</span>
0040 H=zeros(m,n); H(sub2ind2([m,n],[inds; 1:n]'))=1;
0041 
0042 <span class="comment">% create histogram [H(i,j) is count of x(j-r:j+r)==vals(i)]</span>
0043 H=localSum(H,[0 s],<span class="string">'same'</span>);
0044 
0045 <span class="comment">% compute mode for each j and map inds back to original vals</span>
0046 [~,inds]=max(H,[],1); y=vals(inds);
0047 
0048 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Thu 05-May-2022 14:52:24 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>
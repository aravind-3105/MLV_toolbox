<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of ticStatus</title>
  <meta name="keywords" content="ticStatus">
  <meta name="description" content="Used to display the progress of a long process.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="../../../index.html">MLVcode</a> &gt; <a href="../../index.html">edges-master</a> &gt; <a href="#">toolbox-master</a> &gt; <a href="index.html">matlab</a> &gt; ticStatus.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for MLVcode\edges-master\toolbox-master\matlab&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>ticStatus
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>Used to display the progress of a long process.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function id = ticStatus( msg, updateFreq, updateMinT, erasePrev ) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Used to display the progress of a long process.

 Essentially, use 'ticId = ticStatus' to start a new progress
 indicator, and then update the progress indicator with a call to
 'tocStatus( ticId, fracDone )', where fracDone is the fraction of
 the work completed.  The progress indicator is shown as a text message
 (sent to stdout).  For example in a loop over i where about the same
 amount of work is done each iteration, the indicator would be added as
 follows:
     ticId = ticStatus('my message');
     for i=1:n
         ...
         tocStatus( ticId, i/n );
     end
 Before the loop the timer is initialized, and then at the end of each
 iteration a call to tocStatus is made 'tocStatus( ticId, i/n )'.
 The progress indicator is of the form:
  'my message   completed=4.5% [elapsed=1.0s / remaining~=21.5s]'

 The parameters passed to ticStatus control the behavior of the progress
 indicator.  The updateFreq is the minimum time (in seconds) between
 updates to the progress indicator (a typical value is 1 second).  So even
 if 'tocStatus( ticId, i/n )' is called 100/second, an update occurs
 only once per updateFreq seconds.  Next updateMinT is used to control if
 a progress message shows at all.  If a process is projected to take time
 &lt; updateMinT then no progress indicator is shown at all.  The form of the
 progress indicator is a text message.  If erasePrev is set to true, then
 the previously displayed message is erased.  This ONLY WORKS if no other
 output was sent to stdout since the last call to tocStatus.  Otherwise,
 each new update is simply sent to the progress indicator without first
 tyring to erase any previous text.  Finally msg allows customization of
 the actual udpate message displayed.

 ticStatus returns an id that uniquely identifies the progress indicator.
 tocStatus takes this id as its first input.  Once tocStatus is called
 with a fracDone==1, then the memory of the progress indicator that
 corresponds to id is set free (make sure to call tocStatus(id,1) if the
 progress indicator is no longer needed).  Nesting of progress indicators
 is possible; however, in this case erasePrev should be set to false
 (otherwise the various progress messages may erase each other).

 USAGE
  id = ticStatus( [msg], [updateFreq], [updateMinT], [erasePrev] )

 INPUTS
  msg         - [] additional msg to display in progress
  updateFreq  - [1] frequency with which to update progress (in seconds)
  updateMinT  - [20] no progress is shown if process takes time&lt;updateMinT
  erasePrev   - [1] whether to attempt to erase prev message

 OUTPUTS
  id          - unique ticStatus for progress indicator

 EXAMPLE
  ticId = ticStatus('example usage',.2,1);
  for i=1:100; pause(.1); tocStatus( ticId, i/100 ); end

 See also <a href="tocStatus.html" class="code" title="function tocStatus( id, fracDone )">TOCSTATUS</a>, TIC, TOC

 Piotr's Computer Vision Matlab Toolbox      Version 2.0
 Copyright 2014 Piotr Dollar.  [pdollar-at-gmail.com]
 Licensed under the Simplified BSD License [see external/bsd.txt]</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="dirSynch.html" class="code" title="function dirSynch( root1, root2, showOnly, flag, ignDate )">dirSynch</a>	Synchronize two directory trees (or show differences between them).</li><li><a href="diskFill.html" class="code" title="function diskFill( tDir, nGig )">diskFill</a>	Fill a harddisk with garbage files (useful before discarding disk).</li><li><a href="fevalArrays.html" class="code" title="function B = fevalArrays( A, fHandle, varargin )">fevalArrays</a>	Used to apply the same operation to a stack of array elements.</li><li><a href="fevalDistr.html" class="code" title="function [out,res] = fevalDistr( funNm, jobs, varargin )">fevalDistr</a>	Wrapper for embarrassingly parallel function evaluation.</li><li><a href="fevalImages.html" class="code" title="function X = fevalImages( fHandle, prms, srcDir, name, ext,nStr, nEnd, nDigits )">fevalImages</a>	Used to apply the same operation to all images in given directory.</li><li><a href="fevalMats.html" class="code" title="function X = fevalMats( fHandle, matCont, prm, srcDir, prefix )">fevalMats</a>	Used to apply the same operation to all .mat files in given directory.</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function id = ticStatus( msg, updateFreq, updateMinT, erasePrev )</a>
0002 <span class="comment">% Used to display the progress of a long process.</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% Essentially, use 'ticId = ticStatus' to start a new progress</span>
0005 <span class="comment">% indicator, and then update the progress indicator with a call to</span>
0006 <span class="comment">% 'tocStatus( ticId, fracDone )', where fracDone is the fraction of</span>
0007 <span class="comment">% the work completed.  The progress indicator is shown as a text message</span>
0008 <span class="comment">% (sent to stdout).  For example in a loop over i where about the same</span>
0009 <span class="comment">% amount of work is done each iteration, the indicator would be added as</span>
0010 <span class="comment">% follows:</span>
0011 <span class="comment">%     ticId = ticStatus('my message');</span>
0012 <span class="comment">%     for i=1:n</span>
0013 <span class="comment">%         ...</span>
0014 <span class="comment">%         tocStatus( ticId, i/n );</span>
0015 <span class="comment">%     end</span>
0016 <span class="comment">% Before the loop the timer is initialized, and then at the end of each</span>
0017 <span class="comment">% iteration a call to tocStatus is made 'tocStatus( ticId, i/n )'.</span>
0018 <span class="comment">% The progress indicator is of the form:</span>
0019 <span class="comment">%  'my message   completed=4.5% [elapsed=1.0s / remaining~=21.5s]'</span>
0020 <span class="comment">%</span>
0021 <span class="comment">% The parameters passed to ticStatus control the behavior of the progress</span>
0022 <span class="comment">% indicator.  The updateFreq is the minimum time (in seconds) between</span>
0023 <span class="comment">% updates to the progress indicator (a typical value is 1 second).  So even</span>
0024 <span class="comment">% if 'tocStatus( ticId, i/n )' is called 100/second, an update occurs</span>
0025 <span class="comment">% only once per updateFreq seconds.  Next updateMinT is used to control if</span>
0026 <span class="comment">% a progress message shows at all.  If a process is projected to take time</span>
0027 <span class="comment">% &lt; updateMinT then no progress indicator is shown at all.  The form of the</span>
0028 <span class="comment">% progress indicator is a text message.  If erasePrev is set to true, then</span>
0029 <span class="comment">% the previously displayed message is erased.  This ONLY WORKS if no other</span>
0030 <span class="comment">% output was sent to stdout since the last call to tocStatus.  Otherwise,</span>
0031 <span class="comment">% each new update is simply sent to the progress indicator without first</span>
0032 <span class="comment">% tyring to erase any previous text.  Finally msg allows customization of</span>
0033 <span class="comment">% the actual udpate message displayed.</span>
0034 <span class="comment">%</span>
0035 <span class="comment">% ticStatus returns an id that uniquely identifies the progress indicator.</span>
0036 <span class="comment">% tocStatus takes this id as its first input.  Once tocStatus is called</span>
0037 <span class="comment">% with a fracDone==1, then the memory of the progress indicator that</span>
0038 <span class="comment">% corresponds to id is set free (make sure to call tocStatus(id,1) if the</span>
0039 <span class="comment">% progress indicator is no longer needed).  Nesting of progress indicators</span>
0040 <span class="comment">% is possible; however, in this case erasePrev should be set to false</span>
0041 <span class="comment">% (otherwise the various progress messages may erase each other).</span>
0042 <span class="comment">%</span>
0043 <span class="comment">% USAGE</span>
0044 <span class="comment">%  id = ticStatus( [msg], [updateFreq], [updateMinT], [erasePrev] )</span>
0045 <span class="comment">%</span>
0046 <span class="comment">% INPUTS</span>
0047 <span class="comment">%  msg         - [] additional msg to display in progress</span>
0048 <span class="comment">%  updateFreq  - [1] frequency with which to update progress (in seconds)</span>
0049 <span class="comment">%  updateMinT  - [20] no progress is shown if process takes time&lt;updateMinT</span>
0050 <span class="comment">%  erasePrev   - [1] whether to attempt to erase prev message</span>
0051 <span class="comment">%</span>
0052 <span class="comment">% OUTPUTS</span>
0053 <span class="comment">%  id          - unique ticStatus for progress indicator</span>
0054 <span class="comment">%</span>
0055 <span class="comment">% EXAMPLE</span>
0056 <span class="comment">%  ticId = ticStatus('example usage',.2,1);</span>
0057 <span class="comment">%  for i=1:100; pause(.1); tocStatus( ticId, i/100 ); end</span>
0058 <span class="comment">%</span>
0059 <span class="comment">% See also TOCSTATUS, TIC, TOC</span>
0060 <span class="comment">%</span>
0061 <span class="comment">% Piotr's Computer Vision Matlab Toolbox      Version 2.0</span>
0062 <span class="comment">% Copyright 2014 Piotr Dollar.  [pdollar-at-gmail.com]</span>
0063 <span class="comment">% Licensed under the Simplified BSD License [see external/bsd.txt]</span>
0064 
0065 <span class="keyword">global</span> TT_STATUS TT_FREE_IDS
0066 
0067 <span class="keyword">if</span>( nargin&lt;1 || isempty(msg) ); msg = []; <span class="keyword">end</span>
0068 <span class="keyword">if</span>( nargin&lt;2 || isempty(updateFreq) ); updateFreq = 1; <span class="keyword">end</span>
0069 <span class="keyword">if</span>( nargin&lt;3 || isempty(updateMinT) ); updateMinT = 20; <span class="keyword">end</span>
0070 <span class="keyword">if</span>( nargin&lt;4 || isempty(erasePrev) ); erasePrev = 1; <span class="keyword">end</span>
0071 <span class="keyword">if</span>( isempty(TT_FREE_IDS) ); TT_FREE_IDS = ones(1,128); <span class="keyword">end</span>
0072 
0073 <span class="comment">% get a free id</span>
0074 [v,id] = max( TT_FREE_IDS );
0075 <span class="keyword">if</span>( v==0 )
0076   nids = length(TT_FREE_IDS);
0077   TT_FREE_IDS = [TT_FREE_IDS ones(1,nids)];
0078   id = nids+1;
0079   warning(<span class="string">'ticStatus: Doubling number of locations needed.'</span>); <span class="comment">%#ok&lt;WNTAG&gt;</span>
0080 <span class="keyword">end</span>
0081 TT_FREE_IDS(id) = 0;
0082 
0083 <span class="comment">% initialize TT_STATUS</span>
0084 t0 = clock;
0085 TT_STATUS(id).updateFreq = updateFreq;
0086 TT_STATUS(id).updateMinT = updateMinT;
0087 TT_STATUS(id).erasePrev  = erasePrev;
0088 TT_STATUS(id).msg  = msg;
0089 TT_STATUS(id).t0 = t0;
0090 TT_STATUS(id).tLast = t0;
0091 TT_STATUS(id).lenPrev = 0;</pre></div>
<hr><address>Generated on Thu 05-May-2022 14:52:24 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>
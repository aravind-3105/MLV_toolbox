<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of txt2img</title>
  <meta name="keywords" content="txt2img">
  <meta name="description" content="Convert text string to a binary image.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="../../../index.html">MLVcode</a> &gt; <a href="../../index.html">edges-master</a> &gt; <a href="#">toolbox-master</a> &gt; <a href="index.html">matlab</a> &gt; txt2img.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for MLVcode\edges-master\toolbox-master\matlab&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>txt2img
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>Convert text string to a binary image.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function masks = txt2img( strings, h, txtPrp ) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Convert text string to a binary image.

 For each input string, creates a binary matrix of dimensions [hxw] that
 when displayed as an image shows the string. See example for usage.
 First, uses text() to display the text using Matlab's display
 functionality. Next uses getframe() to capture the screen and crops the
 resulting image appropriately.

 USAGE
  masks = txt2img( strings, h, [txtPrp] )

 INPUTS
  strings  - {1xn} text string or cell array of text strings to convert
  h        - font height in pixels
  txtPrp   - [] additional properites for call to &quot;text&quot;

 OUTPUTS
  masks    - {1xn} binary image masks of height h for each string

 EXAMPLE
  masks=txt2img('hello world',100); im(masks{1})

 See also <a href="char2img.html" class="code" title="function masks = char2img( strings, h, pad )">CHAR2IMG</a>, GETFRAME, TEXT

 Piotr's Computer Vision Matlab Toolbox      Version 2.35
 Copyright 2014 Piotr Dollar.  [pdollar-at-gmail.com]
 Licensed under the Simplified BSD License [see external/bsd.txt]</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="char2img.html" class="code" title="function masks = char2img( strings, h, pad )">char2img</a>	Convert ascii text to a binary image using pre-computed templates.</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function masks = txt2img( strings, h, txtPrp )</a>
0002 <span class="comment">% Convert text string to a binary image.</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% For each input string, creates a binary matrix of dimensions [hxw] that</span>
0005 <span class="comment">% when displayed as an image shows the string. See example for usage.</span>
0006 <span class="comment">% First, uses text() to display the text using Matlab's display</span>
0007 <span class="comment">% functionality. Next uses getframe() to capture the screen and crops the</span>
0008 <span class="comment">% resulting image appropriately.</span>
0009 <span class="comment">%</span>
0010 <span class="comment">% USAGE</span>
0011 <span class="comment">%  masks = txt2img( strings, h, [txtPrp] )</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% INPUTS</span>
0014 <span class="comment">%  strings  - {1xn} text string or cell array of text strings to convert</span>
0015 <span class="comment">%  h        - font height in pixels</span>
0016 <span class="comment">%  txtPrp   - [] additional properites for call to &quot;text&quot;</span>
0017 <span class="comment">%</span>
0018 <span class="comment">% OUTPUTS</span>
0019 <span class="comment">%  masks    - {1xn} binary image masks of height h for each string</span>
0020 <span class="comment">%</span>
0021 <span class="comment">% EXAMPLE</span>
0022 <span class="comment">%  masks=txt2img('hello world',100); im(masks{1})</span>
0023 <span class="comment">%</span>
0024 <span class="comment">% See also CHAR2IMG, GETFRAME, TEXT</span>
0025 <span class="comment">%</span>
0026 <span class="comment">% Piotr's Computer Vision Matlab Toolbox      Version 2.35</span>
0027 <span class="comment">% Copyright 2014 Piotr Dollar.  [pdollar-at-gmail.com]</span>
0028 <span class="comment">% Licensed under the Simplified BSD License [see external/bsd.txt]</span>
0029 
0030 <span class="comment">% set up blank figure to which to write text</span>
0031 <span class="keyword">if</span>(nargin&lt;3 || isempty(txtPrp)), txtPrp={}; <span class="keyword">end</span>
0032 txtPrp = [txtPrp <span class="string">'units'</span>,<span class="string">'pixels'</span>, <span class="string">'position'</span>,[2 2], <span class="string">'FontUnits'</span>, <span class="keyword">...</span>
0033   <span class="string">'pixels'</span>, <span class="string">'fontsize'</span>,h-2, <span class="string">'VerticalAlignment'</span>,<span class="string">'Bottom'</span>, <span class="string">'string'</span>];
0034 ss=get(0,<span class="string">'ScreenSize'</span>); w=ss(3)-250;
0035 hf=figure; clf; imshow(ones([h-1 w]));
0036 <span class="comment">% write each string and use screen capture to save image</span>
0037 <span class="keyword">if</span>(~iscell(strings)), strings={strings}; <span class="keyword">end</span>
0038 n=length(strings); masks=cell(1,n);
0039 <span class="keyword">for</span> s=1:n
0040   ht=text(txtPrp{:},strings{s}); pos=get(ht,<span class="string">'Extent'</span>);
0041   <span class="keyword">if</span>(pos(3)&gt;w), error(<span class="string">'string does not fit on screen'</span>); <span class="keyword">end</span>
0042   M=getframe(gca); M=M.cdata; M=M(:,1:pos(3),1); M=uint8(M&gt;100);
0043   k=find(sum(M==0)&gt;0); <span class="keyword">if</span>(k), M=M(:,max(1,k(1)-1):min(<span class="keyword">end</span>,k(end)+1)); <span class="keyword">end</span>
0044   masks{s}=M; delete(ht);
0045 <span class="keyword">end</span>; close(hf);
0046 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Thu 05-May-2022 15:20:21 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>